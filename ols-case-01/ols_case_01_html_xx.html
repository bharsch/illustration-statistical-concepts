<html>
  <head>

    <title>OLS: Case 01</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/css/bootstrap-slider.min.css">

    <!-- include my style sheet -->
    <link rel="stylesheet" href="mystyle.css">

    <!-- hohenheim logo and chair -->
    <div class="logoCl iliasExcCl" style="text-align:center;" background-color="#eeeeee;">
      <br />
      <img src="Uni-Hohenheim-Logo-Weiss-EN.png" width="727" height="188" />
      <br />
        <p> Econometrics and Statistics (520K) </p>
    </div>

  </head>
  <body>

    <div class="container mt-5">
      <div class="row">

          <div class="jumbotron" id="topJumb">
            
            <p style='font-size: 28pt;'>Properties of the OLS Estimator</p>
            <p style='font-size: 18pt; margin-top: -10px;'>Large sample Properties in General</p> 
      
          </div>

      </div>
    </div>


    <div class="container mt-5">
      <div class="row">

        <div class="jumbotron">

          <p style="font-size: 18pt">Sample draws and sampling distribution</p>

          <p style="margin-left: 10pt;">We simulate a sample draw of size \(n\) from our statistical model and calculate the the value for our estimator for the particular sample draw.</p>
          <p style="margin-left: 10pt;">We repeat this exercise \(10,000\) times to get \(10,000\) values for our estimator.</p>
          <p style="margin-left: 10pt;">The distribution of these \(10,000\) values for our estimator is the sampling distribution of our estimator.</p>

          <hr>

          <p style="font-size: 18pt">Statistical Model</p>
        
          <p>Consider the simple regression model,</p>

          $$
          \begin{align}
          Y_i = \beta_{0} + \beta_{1} X_{i} + u_{i},
          \end{align}
          $$

          <p>where \(\beta_{0}=0\) is the intercept and \(\beta_{1}=1\) is the slope parameter.</p>

          <p>Furthermore, assume \(X_{i}\) and \(u_{i}\) are i.i.d. normally distributed, i.e.,</p>

          $$
          \begin{align}
          X_{i} \sim N\left(0, \sigma_{X}^{2}\right), \;\;\;\;\; u_{i} \sim N\left(0, \sigma_{u}^{2}\right),
          \end{align}
          $$

          <p>where \(\sigma_{X}=5\) and \(\sigma_{u}=5\) is the standard deviation of \(X_{i}\) and \(u_{i}\), respectively.</p>
              
          <hr>

          <p style="font-size: 18pt">Estimator and Parameter of Interest</p>
          
          <p>We are interested in the sampling properties of the OLS estimator \(\widehat{\beta}_{1}\) given by,</p>

          $$
          \begin{align}
          \widehat{\beta}_{1} = \frac{\sum_{i=1}^{n}\left(X_{i} - \overline{X}\right)\left(Y_{i} - \overline{Y}\right)}{\sum_{i=1}^{n}\left(X_{i} - \overline{X}\right)^{2}},
          \end{align}
          $$  

          <p>as estimator for the slope parameter \(\beta_{1}\) of the regression model above.</p>

        </div>

      </div>
    </div>

    <div class="container mt-5">
      <div class="row">

          <div class="jumbotron">
            
            <p style="font-size: 18pt">Illustration</p>
              
            <p>Change the parameters and see the effect on the properties of the OLS estimator \(\widehat{\beta}_{1}\) as estimator for \(\beta_{1}\).</p>            
      
            <div class="container mt-5" style="margin-top: 50px;">
              <div class="row">

                <div class="col-sm-3">
                  <div class="jumbotron innerJumb">

                    <p style="font-size: 18pt; margin-top: 10px; text-align: center;">Parameters</p>
                    
                    <div style='margin-top: 50px;'>
                      
                      <hr>

                      <p style='font-size: 12pt; text-align: center'>Sample Draw</p><p style='font-size: 12pt; text-align: center' id="ex601Val"></p>
                      <input id="ex601" type="text" data-slider-min="0" data-slider-max="4" data-slider-step="1" data-slider-value="2"/>

                      <!--..........................................................................-->
                      <!-- see: https://www.w3schools.com/html/html5_audio.asp -->

                      <div style="text-align: center;">
                        <button class="audioButtonCl" onclick="playAudioSlider01()"><span style='font-size: 10pt; line-height: 2; text-align: center'>Play</span></button>
                        <button class="audioButtonCl" onclick="stopAudioSlider01()"><span style='font-size: 10pt; line-height: 2; text-align: center'>Stop</span></button>
                      </div>

                      <div style="text-align: center; margin-top: 10px; display: none;">
                        <audio id="audioSlider01" controls>
                          <source src="audio_slider01.mp3" type="audio/mpeg">
                          Your browser does not support the audio element.
                        </audio>
                      </div>
                      
                      <p style='font-size: 12pt; text-align: center; margin-top: 10px;'>Sample Size</p><p style='font-size: 12pt; text-align: center' id="ex602Val"></p>
                      <input id="ex602" type="text" data-slider-min="0" data-slider-max="4" data-slider-step="1" data-slider-value="2"/>
                      
                    </div>

                  </div>
                </div>
                
                <div class="col-sm-9">
                  <div class="jumbotron innerJumb">
            
                    <div class="tab" style="text-align: center;">
                      <button class="tabLinkL1Cl" onclick="openSpecificTab('tabContentL1N1Id', 'tabLinkL1N1Id', 'white')" id="tabLinkL1N1Id">Sample Draw</button>
                      <button class="tabLinkL1Cl" onclick="openSpecificTab('tabContentL1N2Id', 'tabLinkL1N2Id', 'white')" id="tabLinkL1N2Id">Residuals</button>
                      <button class="tabLinkL1Cl" onclick="openSpecificTab('tabContentL1N3Id', 'tabLinkL1N3Id', 'white')" id="tabLinkL1N3Id">Consistency</button>
                      <button class="tabLinkL1Cl" onclick="openSpecificTab('tabContentL1N4Id', 'tabLinkL1N4Id', 'white')" id="tabLinkL1N4Id">Asymptotic Normality</button>
                    </div>

                    <br>
                    <hr>

                    <div id="tabContentL1N1Id" class="tabContentL1Cl">

                      <p style="font-size: 16pt">Scatter plot (observations)</p>
                      
                      <img src="./figures/figure_01_3_3.svg" alt="" id="imageL1N1Id" style="text-align: center; max-width: 100%;">

                      <p>The red fitted regression line is based on the regression of,</p>

                      $$
                      \begin{align}
                      Y_{i} \;\;\;\;\; \text{on} \;\;\;\;\; X_{i}.
                      \end{align}
                      $$

                      <p>The scatter plots and the fitted regression lines represent the result for only one simulation. The shaded areas illustrate the range of all fitted regression lines across all simulations.</p>

                    </div>

                    <div id="tabContentL1N2Id" class="tabContentL1Cl">

                      <p style="font-size: 16pt">Scatter plot (fitted residuals)</p>

                      <img src="./figures/figure_02_3_3.svg" alt="" id="imageL1N2Id" style="text-align: center; max-width: 100%;">

                      <p>The fitted unobserved residuals are constructed as,</p>

                      $$
                      \begin{align}
                      \widehat{u}_{i} = Y_{i} - \widehat{\beta}_{1} X_{i},
                      \end{align}
                      $$
            
                      <p>for only one simulation where \(\widehat{\beta}_{1}\) is the respective OLS estimate.</p>

                    </div>

                    <div id="tabContentL1N3Id" class="tabContentL1Cl">

                      <p style='font-size: 16pt;'>Histogram of the OLS estimator \(\widehat{\beta}_{1}\)</p>
                      
                      <img src="./figures/figure_03_3_3.svg" alt="" id="imageL1N3Id" style="text-align: center; max-width: 100%;">

                      <p>As the sample size \(n\) grows the OLS estimator \(\widehat{\beta}_{1}\) gets closer to \(\beta\), i.e.,</p>
                      
                      $$
                      \begin{align}
                      \widehat{\beta}_{1} \overset{p}{\to} \beta.
                      \end{align}
                      $$

                    </div>

                    <div id="tabContentL1N4Id" class="tabContentL1Cl">

                      <p style='font-size: 16pt;'>Histogram of the standardized OLS estimator \(z_{\widehat{\beta}_{1}}\)</p>

                      <img src="./figures/figure_04_3_3.svg" alt="" id="imageL1N4Id" style="text-align: center; max-width: 100%;">

                      <p>As the sample size \(n\) grows the distribution of the standardized sample average,</p>

                      $$
                      \begin{align}
                      z_{\overline{Y}} &= \frac{\overline{Y} - \beta}{\sigma_{\widehat{\beta}_{1}}},
                      \end{align}
                      $$

                      <p>gets closer to the standard normal distribution \(N\left(0, 1\right)\).</p>                      

                    </div>

                  </div>

                </div>
              </div>
            </div>

          </div>

      </div>
    </div>
    
    <div class="container mt-5">
      <div class="row">

          <div class="jumbotron">
            
            <p style="font-size: 18pt">More Details</p>
                    
            <button type="button" class="collButtonCl"> <span style="font-size: 14pt;">Construction of \(z_{\overline{Y}}\)</span> </button>
            <div class="collContentCl">

              <p style="margin-top: 10px;">
                For the construction of the standardized OLS estimator \(z_{\widehat{\beta}_{1}}\), the variance of \(\widehat{\beta}_{1}\), i.e., \(\sigma_{\widehat{\beta}_{1}}^{2}\), has to be estimated.
              </p>
              
              <p>The variance of \(\widehat{\beta}_1\), i.e., \(\sigma_{\widehat{\beta}_{1}}^{2}\), can be robustly estimated by,</p>
              
              $$
              \begin{align}
              \widehat{\sigma}_{\widehat{\beta}_{1}}^{2} = \frac{1}{n} \times \frac{\frac{1}{n-2}\sum_{i=1}^{n}\left(X_{i} - \overline{X}\right)^{2}\widehat{u}_{i}^{2}}{\left[\frac{1}{n}\sum_{i=1}^{n}\left(X_{i} - \overline{X}\right)^{2}\right]^{2}},
              \end{align}
              $$

              <p>where \(\widehat{u}_{i}\) are the residuals of the estimate regression line.</p>

              <p>Note, the estimator for \(\sigma_{\widehat{\beta}_{1}}^{2}\) above is robust w.r.t. to heteroskedasticity, i.e., it does not rely on the assumption of homoskedasticity.</p>

              <p>Instead, some statistic software report estimates \(\sigma_{\widehat{\beta}_{1}}^{2}\), based on the assumption of homoskedasticity.</p>
              
              <p>The so called homoskedaticity-only estimator of \(\sigma_{\widehat{\beta}_{1}}^{2}\), is given by,</p>

              $$
              \begin{align}
              \widetilde{\sigma}_{\widehat{\beta}_{1}}^{2} = \frac{\frac{1}{n-2}\sum_{i=1}^{n}\widehat{u}_{i}^{2}}{\sum_{i=1}^{n}\left(X_{i} - \overline{X}\right)^{2}}.
              \end{align}
              $$

            </div>

            <button type="button" class="collButtonCl"> <span style="font-size: 14pt;">Simulation Exercise</span> </button>
            <div class="collContentCl">

              <ol style="margin-top: 10px;">
                <li>A i.i.d. sample of size \(n\), i.e., a sequence of observations \(X_{1}, X_{2}, ..., X_{n}\) and \(u_{1}, u_{2}, ..., u_{n}\), are drawn from the distribution of \(X_{i}\) and \(u_{i}\) specified above.</li>
                <li>Based on the sequence of observations \(X_{1}, X_{2}, ..., X_{n}\) and \(u_{1}, u_{2}, ..., u_{n}\) a sequence of observations \(Y_{1}, Y_{2}, ..., Y_{n}\)  is constructed based on the regression model above.</li>
                <li>Based on the sequence of observations \(Y_{1}, Y_{2}, ... Y_{n}\) and \(X_{1}, X_{2}, ..., X_{n}\), the intercept \(\beta_{0}\) and the slop parameter \(\beta_{1}\) is estimated using OLS.</li>
                <li>The value of the estimate for the slope parameter, i.e., \(\widehat{\beta}_{1}\), is stored.</li>
                <li>Step 1) to 4) is repeated \(10,000\) times resulting in \(1000\) OLS estimates for the slope parameter, i.e., \(\widehat{\beta}_{1}\).</li>
                <li>The distribution of \(\widehat{\beta}_{1}\) and the standardized \(\widehat{\beta}_{1}\), i.e., \(z_{\widehat{\beta}_{1}}\), are illustrated using histograms.</li>
                <p style="margin-left: 3px; font-size: 14pt;">Remember, due to the different outcomes of the samples the OLS estimates will vary across sample draws.</p>
              </ol>

            </div>

        </div>

      </div>
    </div>
    
    <div class="iliasExcCl">
      <hr />
      <p style="text-align: center; font-size: 20pt; font-weight: bold;">
        <a href="https://ilias.uni-hohenheim.de/data/UHOH/lm_data/lm_1781360/index_ilias_html_xx.html">Back to <em>Startpage</em></a>
      </p>
      <hr />
    </div>

    <!-- include mathjax js via cdn
    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
    </script>
     -->
    <script
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
    </script>

    <!-- include bootstrap slider js via cdn --> 
    <script 
      src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/bootstrap-slider.min.js">
    </script>

    <!-- include jstat js via cdn -->
    <script
      src="https://cdn.jsdelivr.net/npm/jstat@latest/dist/jstat.min.js">
    </script>

    <!-- include my javascript -->
    <script src="myScript.js"></script>

  </body>
</html>