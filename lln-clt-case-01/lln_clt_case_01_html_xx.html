<html>
  <head>

    <title>LLN and CLT: Case No 01</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/css/bootstrap-slider.min.css">

    <!-- hohenheim logo and chair -->
    <!--
    <div class="logos" style="text-align:center;" background-color="#eeeeee;">
      <br />
      <img src="Uni-Hohenheim-Logo-Weiss-EN.png" width="727" height="188" />
      <br />
        <p> Econometrics and Statistics (520K) </p>
    </div>
    -->
    <style>

      body{
        font-family: Helvetica;
        font-size: 14pt;
      }

      /* hohenheim logo and chair */
      .logos {
        background-color: #003f75;
        color: white;
        font-family: Arial Nova Cond Light;
        font-size: 24pt;
      }

      /* style the buttons that are used to open the tab content */
      .tabLinkL1Cl {
        display: inline-table;
        max-height: 500px;
        min-height: 44px;
        overflow-y: auto;
        border: 1px solid #ddd;
        border-radius: 4px;
        padding: 14px 16px;
        background-color: #f1f1f1;
      }

      /* change background color of buttons on hover */
      .tabLinkL1Cl:hover {
        background-color: #ddd;
      }

      /* create an active/current tablink class */
      .tabLinkL1Cl.active {
        background-color: #ccc;
      }



      /* sample value - set it as you like*/
      .slider.slider-horizontal{
        width:100%; 
      }

      /* margin of jumbotron id top */
      div#top.jumbotron{
        margin-top:50px; 
      }

      /* style table 01 */
      .table01 {
        font-size: 20pt;
      }
      .table01, tr {
        height: 40px;
      }

      /* style table 02 */
      .table02 {
        font-size: 20pt;
      }
      .table02, tr {
        height: 40px;
      }
      .table02, th, td {
        border-left: none;
        border-right: none;
        width: 80px;
      }

    </style>

    <script>
      // see: https://www.w3schools.com/howto/howto_html_include.asp
      function includeHTML() {
        var z, i, elmnt, file, xhttp;
        /* Loop through a collection of all HTML elements: */
        z = document.getElementsByTagName("*");
        for (i = 0; i < z.length; i++) {
          elmnt = z[i];
          /*search for elements with a certain atrribute:*/
          file = elmnt.getAttribute("w3-include-html");
          if (file) {
            /* Make an HTTP request using the attribute value as the file name: */
            xhttp = new XMLHttpRequest();
            xhttp.onreadystatechange = function() {
              if (this.readyState == 4) {
                if (this.status == 200) {elmnt.innerHTML = this.responseText;}
                if (this.status == 404) {elmnt.innerHTML = "Page not found.";}
                /* Remove the attribute, and call this function once more: */
                elmnt.removeAttribute("w3-include-html");
                includeHTML();
              }
            }
            xhttp.open("GET", file, true);
            xhttp.send();
            /* Exit the function: */
            return;
          }
        }
      }
    </script>

  </head>
  <body>

    <div class="container mt-5">
      <div class="row">

        <div class="jumbotron" id="top">

          <!-- <h1>Properties of OLS Estimates for <br> increasing Sample Sizes</h1> -->
          <p style='font-size: 28pt;'>Properties of the Sample Average for increasing Sample Sizes</p>        

          <!--..........................................................................-->
          <hr>

          <p style="font-size: 18pt">Motivation</p>

          <p>Understand the effect of increasing the sample size \(N\) on the sampling distribution of the sample average as estimator for the probability of success \(p\) of a Bernoulli experiment.</p>

          <!--..........................................................................-->
          <hr>

          <p style="font-size: 18pt">Statistical Model</p>

          <p>We are interested in the sampling properties of the sample average as estimator for the mean probability of success \(p\) of a Bernoulli experiment with the probability of success \(p\), i.e.,</p>

          $$
          \begin{align}
          Y_i &\sim B\left(p\right), \\
          \end{align}
          $$

          with \(p = 0.4\).

          <!-- <div w3-include-html="table_01_N10.html"></div> -->
          <!-- <div w3-include-html="https://raw.githubusercontent.com/mmoessler/illustration-statistical-concepts/main/lln-clt-case-01/table_01_N10.html"></div> -->

          <!--..........................................................................-->
          <hr>
          <p style="font-size: 18pt">Simulation</p>

          <ol>
            <li>A sample of size \(N\) is drawn from the a Bernoulli distribution with probability of success \(p=0.4\).</li>
            <li>The sample average of the outcomes (success \(Y_i=1\) and no sucess \(Y_i=0\)) are calcuated based on the sample drawn.</li>
            <li>The value of the sample average, i.e., \(\overline{Y}\), is stored.</li>
            <li>Step 1) to 3) is repeated \(1000\) times resulting in \(1000\) sample averages.</li>
            <p style="margin-left: 3px; font-size: 14pt;">Remember, even if the observations are simulated using the same statistical model, they will not be exactly the same.</p>
            <li>The distribution of \(\overline{Y}\) and the standardized \(\overline{Y}\) are illustrated using histograms.</li>
            <p style="margin-left: 3px; font-size: 14pt;">Remember, due to the different simulated observations the sample averages will vary across sample draws.</p>
          </ol>

          <!--..........................................................................-->
          <hr>
          <p style="font-size: 18pt">Illustration</p>

          <p>Change the number of observations \(N\) to see the effect of the sample size \(N\) on the properties of the sample average \(\overline{Y}\) as estimator for the probability of success \(p\).</p>

        </div>

      </div>
    </div>

    <!-- mt-5: margin top -->
    <div class="container mt-5">
      <div class="row">
        <div class="col-sm-4">
          <div class="jumbotron">
            <p style='font-size: 16pt;'>Change sample size \(N\)</p>        
            <br>        
            <input id="ex6" type="text" data-slider-min="5" data-slider-max="95" data-slider-step="10" data-slider-value="5"/>
          </div>
        </div>
        <div class="col-sm-8">

          <div class="jumbotron">

            <div class="tab" style="text-align: center;">
              <button class="tabLinkL1Cl" onclick="openSpecificTab('tabContentL1N1Id', 'tabLinkL1N1Id', 'white')" id="tabLinkL1N1Id">Tables</button>
              <button class="tabLinkL1Cl" onclick="openSpecificTab('tabContentL1N2Id', 'tabLinkL1N2Id', 'white')" id="tabLinkL1N2Id">Plot No 1</button>
              <button class="tabLinkL1Cl" onclick="openSpecificTab('tabContentL1N3Id', 'tabLinkL1N3Id', 'white')" id="tabLinkL1N3Id">Plot No 2</button>
            </div>

            <br>
            <hr>

            <!-- .................................................. -->
            <div id="tabContentL1N1Id" class="tabContentL1Cl">
              <p style="font-size: 16pt">Sample Draw</p>              
              <p style='font-size: 14pt;'>(Based on one sample draw of size \(N\) of the DGP)</p>
              <div class="table01">
                <div w3-include-html="https://raw.githubusercontent.com/mmoessler/illustration-statistical-concepts/main/lln-clt-case-01/table_02_N5.html" id="tableL1N1Id"></div> 
              </div> 
              <hr>
              <div class="table02">
                <div w3-include-html="https://raw.githubusercontent.com/mmoessler/illustration-statistical-concepts/main/lln-clt-case-01/table_01_N5.html" id="tableL1N2Id"></div> 
              </div>                                  
            </div>

            <!-- .................................................. -->
            <div id="tabContentL1N2Id" class="tabContentL1Cl">
              <p style='font-size: 16pt;'>Histogram of the sample average \(\overline{Y}\)</p>
              <p style='font-size: 14pt;'>(Based on \(1000\) sample draw of size \(N\) on the DGP)</p>              
              <p style='font-size: 12pt;'>The plot below illustrates the Law of Large Numbers (LLN)</p>
              <img src="plot_01_N5.svg" alt="" id="imageL1N2Id" style="text-align: center; max-width: 100%;">
              <br><br>
              <p>As the sample size \(N\) grows the sample average \(\overline{Y}\) gets closer to \(\mu\), i.e.,</p>
              $$
              \begin{align}
              \overline{Y} \overset{p}{\to} \mu.
              \end{align}
              $$
              <p>Note, in our case \(\mu\) is the probability of success \(p\).</p>
            </div>

            <!-- .................................................. -->
            <div id="tabContentL1N3Id" class="tabContentL1Cl">
              <p style='font-size: 16pt;'>Histogram of the standardized sample average \(z_{\overline{Y}}\)</p>
              <p style='font-size: 14pt;'>(Based on \(1000\) sample draw of size \(N\) on the DGP)</p>              
              <p style='font-size: 12pt;'>The plot below illustrates the Central Limit Theorem (CLT)</p>
              <img src="plot_02_N5.svg" alt="" id="imageL1N3Id" style="text-align: center; max-width: 100%;">
              <br><br>
              <p>As the sample size \(N\) grows the distribution of the standardized sample average,</p>
              $$
              \begin{align}
              z_{\overline{Y}} = \frac{\overline{Y} - \mu}{\sigma_{\overline{Y}}},
              \end{align}
              $$
              <p>gets closer and closer to the standard normal distribution \(N\left(0, 1\right)\).</p>
              <p>Note, in our case \(\mu\) is the probability of success \(p\).</p>
            </div>

          </div>

        </div>
      </div>
    </div>

    <!--..........................................................................-->
    <!--
    <hr />
    <p style="text-align: center; font-size: 20pt; font-weight: bold;">
      <a href="https://ilias.uni-hohenheim.de/data/UHOH/lm_data/lm_1776644/index_ilias_html_xx.html">Back to <em>Start</em></a>
    </p>
    <hr />
    -->

    

    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/bootstrap-slider.min.js"></script>
    <script>

      //..............................
      // handling of tabs      
      // see: https://www.w3schools.com/howto/howto_js_tabs.asp

      // open specific tab
      function openSpecificTab(tabContentId, tabLinkId, color) {

        // hide all elements with class="tabcontent_l1" by default */
        var i, tabcontent, tablinks;

        tabcontent = document.getElementsByClassName("tabContentL1Cl");
        for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
        }

        // remove the background color of all tablinks/buttons
        tablinks = document.getElementsByClassName("tabLinkL1Cl");
        for (i = 0; i < tablinks.length; i++) {
          tablinks[i].style.backgroundColor = "";
        }

        // show the specific tab content
        document.getElementById(tabContentId).style.display = "block";

        // add the specific color to the button used to open the tab content
        document.getElementById(tabLinkId).style.backgroundColor = color;

      }

      // set start page
      document.getElementById("tabLinkL1N1Id").click();

      //..............................
      // handling of slider                
      // see: https://seiyria.com/bootstrap-slider/

      var slider = new Slider("#ex6", { tooltip: 'always' });
      slider.on("slide", function(sliderValue) {
        document.getElementById("tableL1N1Id").setAttribute("w3-include-html", "table_02_N" + sliderValue + ".html");
        includeHTML();
        document.getElementById("tableL1N2Id").setAttribute("w3-include-html", "table_01_N" + sliderValue + ".html");
        includeHTML();
        document.getElementById("imageL1N2Id").setAttribute("src", "plot_01_N" + sliderValue + ".svg");
        document.getElementById("imageL1N3Id").setAttribute("src", "plot_02_N" + sliderValue + ".svg");
      });

    </script>

    <script>
      includeHTML();
    </script>

  </body>
</html>