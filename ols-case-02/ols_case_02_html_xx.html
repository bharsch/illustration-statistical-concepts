<html>
  <head>

    <title>OLS: Case 02</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/css/bootstrap-slider.min.css">

    <!-- include my style sheet -->
    <link rel="stylesheet" href="mystyle.css">

    <!-- hohenheim logo and chair -->
    <div class="logoCl iliasExcCl" style="text-align:center;" background-color="#eeeeee;">
      <br />
      <img src="Uni-Hohenheim-Logo-Weiss-EN.png" width="727" height="188" />
      <br />
        <p> Econometrics and Statistics (520K) </p>
    </div>

  </head>
  <body>

    <div class="container mt-5">
      <div class="row">

          <div class="jumbotron" id="topJumb">
            
            <p style='font-size: 28pt;'>Properties of the OLS Estimator</p>
            <p style='font-size: 18pt; margin-top: -10px;'>(Effect of heteroskedasticity)</p> 
      
          </div>

      </div>
    </div>


    <div class="container mt-5">
      <div class="row">

        <div class="jumbotron">

          <p style="font-size: 18pt">Motivation</p>

          <p>Understand the effect of heteroskedasticity on the sampling distribution of the OLS estimator for the slope coefficient of a simple linear regression model.</p>

          <hr>

          <p style="font-size: 18pt">Statistical Model</p>
        
          <p>Consider the simple linear regression model,</p>

          $$
          \begin{align}
          Y_i = \beta_{0} + \beta_{1} X_{i} + u_{i},
          \end{align}
          $$

          <p>where \(\beta_{0}\) is the intercept and \(\beta_{1}\) is the slope parameter.</p>

          <p>Furtermore, supppse \(X_{i}\) and \(u_{i}\) are independently normally distributed, i.e.,</p>

          $$
          \begin{align}
          X_{i} \sim N\left(0, \sigma_{X}^{2}\right), \;\;\;\;\; u_{i} \sim N\left(0, \sigma_{ui}^{2}\right),
          \end{align}
          $$

          <p>where \(\sigma_{X}^{2}\) and \(\sigma_{ui}^{2}\) is the variance of \(X_{i}\) and \(u_{i}\), respectively.</p>
              
          <p>Furthermore, suppose \(\sigma_{u,t}^{2}\) is not constant but a function of \(X_{i}\), i.e.,</p>

          $$
          \begin{align}
          \sigma_{ui}^{2} = \text{exp}\left(\gamma_{0} + \gamma_{1} X_{i}\right).
          \end{align}
          $$

          <p>Thus, for positive/negative values of \(\gamma_{1}\) the variance of \(u_{i}\) is positively/negatively related with the value of \(X_{i}\).  </p>

          <hr>

          <p style="font-size: 18pt">Estimator and Parameter of Interest</p>
          
          <p>We are interested in the sampling properties of the OLS estimator \(\widehat{\beta}_{1}\) given by,</p>

          $$
          \begin{align}
          \widehat{\beta}_{1} = \frac{\sum_{i=1}^{n}\left(X_{i} - \overline{X}\right)\left(Y_{i} - \overline{Y}\right)}{\sum_{i=1}^{n}\left(X_{i} - \overline{X}\right)^{2}},
          \end{align}
          $$  

          as estimator for the slope parameter \(\beta_{1}\) of the regression model above.

        </div>

      </div>
    </div>

    <div class="container mt-5">
      <div class="row">

          <div class="jumbotron">
            
            <p style="font-size: 18pt">Illustration</p>
              
            <p>Change the sample size \(N\) and see the effect on the properties of the OLS estimator \(\widehat{\beta}\) as estimator for the slope coefficient \(\beta\).</p>            
      
            <div class="container mt-5" style="margin-top: 50px;">
              <div class="row">

                <div class="col-sm-3">
                  <div class="jumbotron innerJumb">

                    <p style="font-size: 18pt; margin-top: 10px; text-align: center;">Parameters</p>
                    
                    <div style='margin-top: 50px;'>
                      <hr>
                      <p style='font-size: 12pt;'>Sample size \(n\)</p>        
                      <br>        
                      <input id="ex601" type="text" data-slider-min="0" data-slider-max="1" data-slider-step="1" data-slider-value="0"/>
                      <p style='font-size: 12pt;'>Variance of \(X_{i}\)</p>        
                      <br>        
                      <input id="ex602" type="text" data-slider-min="0" data-slider-max="1" data-slider-step="1" data-slider-value="0"/>
                      <p style='font-size: 12pt;'>Variance of \(u_{i}\)</p>        
                      <br>        
                      <input id="ex603" type="text" data-slider-min="0" data-slider-max="1" data-slider-step="1" data-slider-value="0"/>
                      <p style='font-size: 12pt;'>heteroskedasticity \(g_1\)</p>        
                      <br>        
                      <input id="ex604" type="text" data-slider-min="0" data-slider-max="1" data-slider-step="1" data-slider-value="0"/>
                    </div>

                  </div>
                </div>
                
                <div class="col-sm-9">
                  <div class="jumbotron innerJumb">
            
                    <div class="tab" style="text-align: center;">
                      <button class="tabLinkL1Cl" onclick="openSpecificTab('tabContentL1N1Id', 'tabLinkL1N1Id', 'white')" id="tabLinkL1N1Id">Sample Draw</button>
                      <button class="tabLinkL1Cl" onclick="openSpecificTab('tabContentL1N2Id', 'tabLinkL1N2Id', 'white')" id="tabLinkL1N2Id">Residuals</button>
                      <button class="tabLinkL1Cl" onclick="openSpecificTab('tabContentL1N3Id', 'tabLinkL1N3Id', 'white')" id="tabLinkL1N3Id">Consistency</button>
                      <button class="tabLinkL1Cl" onclick="openSpecificTab('tabContentL1N4Id', 'tabLinkL1N4Id', 'white')" id="tabLinkL1N4Id">Asymptotic Normality</button>
                    </div>

                    <br>
                    <hr>

                    <div id="tabContentL1N1Id" class="tabContentL1Cl">
                      <p style="font-size: 16pt">Scatterplot (observations)</p>              
                      <p style='font-size: 12pt;'>The plot below illustrates the simulation exercise</p>                          
                      <img src="./figures/figure_01_1_1_1_1.svg" alt="" id="imageL1N1Id" style="text-align: center; max-width: 100%;">

                    </div>

                    <div id="tabContentL1N2Id" class="tabContentL1Cl">
                      <p style="font-size: 16pt">Scatterplot (fitted residuals)</p>              
                      <p style='font-size: 12pt;'>The plot below illustrates the fitted residuals</p>                          
                      <img src="./figures/figure_02_1_1_1_1.svg" alt="" id="imageL1N2Id" style="text-align: center; max-width: 100%;">

                    </div>

                    <div id="tabContentL1N3Id" class="tabContentL1Cl">
                      <p style='font-size: 16pt;'>Histogram of the sample average \(\overline{Y}\)</p>
                      <p style='font-size: 12pt;'>The plot below illustrates the Law of Large Numbers (LLN)</p>
                      <img src="./figures/figure_03_1_1_1_1.svg" alt="" id="imageL1N3Id" style="text-align: center; max-width: 100%;">
                      <br><br>
                      <p>As the sample size \(N\) grows the OLS estimator \(\widehat{\beta}_{1}\) gets closer to \(\beta\), i.e.,</p>
                      $$
                      \begin{align}
                      \widehat{\beta}_{1} \overset{p}{\to} \beta.
                      \end{align}
                      $$

                    </div>

                    <div id="tabContentL1N4Id" class="tabContentL1Cl">
                      <p style='font-size: 16pt;'>Histogram of the standardized sample average \(z_{\overline{Y}}\)</p>
                      <p style='font-size: 12pt;'>(The plot below illustrates the Central Limit Theorem (CLT))</p>
                      <img src="./figures/figure_04_1_1_1_1.svg" alt="" id="imageL1N4Id" style="text-align: center; max-width: 100%;">
                      <br><br>
                      <p>As the sample size \(N\) grows the distribution of the standardized sample average,</p>
                      $$
                      \begin{align}
                      z_{\overline{Y}} &= \frac{\overline{Y} - \beta}{\sigma_{\widehat{\beta}_{1}}},
                      \end{align}
                      $$
                      <p>gets closer to the standard normal distribution \(N\left(0, 1\right)\).</p>
                      
                    </div>

                  </div>

                </div>
              </div>
            </div>

          </div>

      </div>
    </div>
    
    <div class="container mt-5">
      <div class="row">

          <div class="jumbotron">
            
            <p style="font-size: 18pt">More Details</p>
                    
            <button type="button" class="collButtonCl"> <span style="font-size: 18pt;">Construction of \(z_{\overline{Y}}\)</span> </button>
            <div class="collContentCl">

              <p style="margin-top: 10px;">
                For the construction of the standardized OLS estimator \(z_{\widehat{\beta}_{1}}\), the variance of \(\widehat{\beta}_{1}\), i.e., \(\sigma_{\widehat{\beta}_{1}}^{2}\), has to be estimated.
              </p>
              
              <p>The variance of \(\widehat{\beta}_1\), i.e., \(\sigma_{\widehat{\beta}_{1}}^{2}\), can be robustly estimated by,</p>
              
              $$
              \begin{align}
              \widehat{\sigma}_{\widehat{\beta}_{1}}^{2} = \frac{1}{n} \times \frac{\frac{1}{n-2}\sum_{i=1}^{n}\left(X_{i} - \overline{X}\right)^{2}\widehat{u}_{i}^{2}}{\left[\frac{1}{n}\sum_{i=1}^{n}\left(X_{i} - \overline{X}\right)^{2}\right]^{2}},
              \end{align}
              $$

              <p>where \(\widehat{u}_{i}\) are the residuals of the estimate regression line.</p>

              <p>Note, the estimator for \(\sigma_{\widehat{\beta}_{1}}^{2}\) above is robust w.r.t. to heteroskedasticity, i.e., it does not rely on the assumption of homoskedasticity.</p>

              <p>Instead, some statistic software report estimates \(\sigma_{\widehat{\beta}_{1}}^{2}\), based on the assumption of homoskedasticity.</p>
              
              <p>The so called homoskedaticity-only estimator of \(\sigma_{\widehat{\beta}_{1}}^{2}\), is given by,</p>

              $$
              \begin{align}
              \widetilde{\sigma}_{\widehat{\beta}_{1}}^{2} = \frac{\frac{1}{n-2}\sum_{i=1}^{n}\widehat{u}_{i}^{2}}{\sum_{i=1}^{n}\left(X_{i} - \overline{X}\right)^{2}}.
              \end{align}
              $$

            </div>

            <button type="button" class="collButtonCl"> <span style="font-size: 18pt;">Simulation Exercise</span> </button>
            <div class="collContentCl">

              <ol style="margin-top: 10px;">
                <li>A i.i.d. sample of size \(n\), i.e., a sequence of observations \(X_{1}, X_{2}, ..., X_{n}\) and \(u_{1}, u_{2}, ..., u_{n}\), are drawn from the distribution of \(X_{i}\) and \(u_{i}\) specified above.</li>
                <li>Based on the sequence of observations \(X_{1}, X_{2}, ..., X_{n}\) and \(u_{1}, u_{2}, ..., u_{n}\) a sequence of observations \(Y_{1}, Y_{2}, ..., Y_{n}\)  is constructed based on the regression model above.</li>
                <li>Based on the sequence of observations \(Y_{1}, Y_{2}, ... Y_{N}\) and \(X_{1}, X_{2}, ..., X_{n}\), the intercept \(\beta_{0}\) and the slop parameter \(\beta_{1}\) is estimated using OLS.</li>
                <li>The value of the estimate for the slope parameter, i.e., \(\widehat{\beta}_{1}\), is stored.</li>
                <li>Step 1) to 4) is repeated \(1000\) times resulting in \(1000\) OLS estimates for the slope parameter, i.e., \(\widehat{\beta}_{1}\).</li>
                <li>The distribution of \(\widehat{\beta}_{1}\) and the standardized \(\widehat{\beta}_{1}\), i.e., \(z_{\widehat{\beta}_{1}}\), are illustrated using histograms.</li>
                <p style="margin-left: 3px; font-size: 14pt;">Remember, due to the different outcomes of the samples the OLS estimates will vary across sample draws.</p>
              </ol>

            </div>

        </div>

      </div>
    </div>
    
    <div class="iliasExcCl">
      <hr />
      <p style="text-align: center; font-size: 20pt; font-weight: bold;">
        <a href="https://ilias.uni-hohenheim.de/data/UHOH/lm_data/lm_1781360/index_ilias_html_xx.html">Back to <em>Startpage</em></a>
      </p>
      <hr />
    </div>

    <!-- include mathjax js via cdn -->
    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
    </script>

    <!-- include bootstrap slider js via cdn --> 
    <script 
      src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/bootstrap-slider.min.js">
    </script>

    <!-- include jstat js via cdn -->
    <script
      src="https://cdn.jsdelivr.net/npm/jstat@latest/dist/jstat.min.js">
    </script>

    <!-- include my javascript -->
    <script src="myScript.js"></script>

  </body>
</html>