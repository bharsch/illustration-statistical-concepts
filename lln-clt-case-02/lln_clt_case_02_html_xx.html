<html>
  <head>

    <title>LLN and CLT: Case No 01</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/css/bootstrap-slider.min.css">

    <!-- hohenheim logo and chair -->
    <div class="logoCl iliasExcCl" style="text-align:center;" background-color="#eeeeee;">
      <br />
      <img src="Uni-Hohenheim-Logo-Weiss-EN.png" width="727" height="188" />
      <br />
        <p> Econometrics and Statistics (520K) </p>
    </div>

    <style>

      .iliasExcCl{
        display: none;
      }

      body{
        font-family: Helvetica;
        font-size: 14pt;
      }

      /* hohenheim logo and chair */
      .logoCl {
        background-color: #003f75;
        color: white;
        font-family: Arial Nova Cond Light;
        font-size: 24pt;
      }

      /* collapsible button */
      .collButtonCl {
        margin-top: 5px;
        margin-bottom: 5px; 
        background-color: white;
        color: #333333;
        font-style: italic;
        cursor: pointer;
        width: 100%;
        padding: 5px;
        border: 1px solid;
        border-color: #cccccc;
        text-align: left;
        outline: none;
        font-family: Helvetica;
        font-size: 16pt;
      }

      /* collapsible content */
      .collContentCl {
        display: none;
        background-color: #EAECEE;
        padding-top: 5px;
        padding-right: 10px;
        padding-bottom: 5px;
        padding-left: 10px;
      }

      /* style the buttons that are used to open the tab content */
      .tabLinkL1Cl {
        display: inline-table;
        max-height: 500px;
        min-height: 44px;
        overflow-y: auto;
        border: 1px solid #ddd;
        border-radius: 4px;
        padding: 14px 16px;
        background-color: #f1f1f1;
      }

      /* change background color of buttons on hover */
      .tabLinkL1Cl:hover {
        background-color: #ddd;
      }

      /* create an active/current tablink class */
      .tabLinkL1Cl.active {
        background-color: #ccc;
      }

      /* sample value - set it as you like*/
      .slider.slider-horizontal{
        width:100%; 
      }

      /* margin of jumbotron id top */
      div#top.jumbotron{
        margin-top:50px; 
      }

    </style>

  </head>
  <body>

    <div class="container mt-5">
      <div class="row">

        <div class="jumbotron" id="top">

          <p style='font-size: 28pt;'>Properties of the Sample Average</p>        

          <!--..........................................................................-->
          <hr>

          <p style="font-size: 18pt">Motivation</p>

          <p>Understand the effect of increasing the sample size \(N\) on the sampling distribution of the sample average as estimator for the probability of success \(p\) of a Bernoulli experiment.</p>

          <!--..........................................................................-->
          <hr>

          <p style="font-size: 18pt">Statistical Model</p>

          <p>We are interested in the sampling properties of the sample average as estimator for the probability of success \(p\) of a Bernoulli experiment with the probability of success \(p\), i.e., the observations \(Y_i\) are drawn from</p>

          $$
          \begin{align}
          Y_i &\sim B\left(p\right), \\
          \end{align}
          $$

          for different values \(p\).

          <!--..........................................................................-->          
          <hr>

          <!--..........................................................................-->
          <button type="button" class="collButtonCl"> <span style="font-size: 18pt;">Simulation</span> </button>
          <div class="collContentCl">

            <ol>
              <li>A sample of size \(N\) is drawn from the a Bernoulli distribution with probability of success \(p=0.4\).</li>
              <li>The sample average of the outcomes (success \(Y_i=1\) and no success \(Y_i=0\)) are calculated based on the sample drawn.</li>
              <li>The value of the sample average, i.e., \(\overline{Y}\), is stored.</li>
              <li>Step 1) to 3) is repeated \(1000\) times resulting in \(1000\) sample averages.</li>
              <p style="margin-left: 3px; font-size: 14pt;">Remember, due to the randomness of the generated sample the outcomes of the samples will vary across sample draws.</p>
              <li>The distribution of \(\overline{Y}\) and the standardized \(\overline{Y}\), i.e., \(z_{\overline{Y}}\), are illustrated using histograms.</li>
              <p style="margin-left: 3px; font-size: 14pt;">Remember, due to the different outcomes of the samples the sample averages will vary across sample draws.</p>
            </ol>

            <!--..........................................................................-->
            <!-- see: https://www.w3schools.com/html/html5_audio.asp -->
            <div style="text-align: center;">
              <audio controls>
                <source src="simulation_audio_01.mp3" type="audio/mpeg">
                Your browser does not support the audio element.
              </audio>
            </div>

          </div>

          <!--..........................................................................-->
          <hr>
          <p style="font-size: 18pt">Illustration</p>

          <p>Change the number of observations \(N\) to see the effect of the sample size \(N\) on the properties of the sample average \(\overline{Y}\) as estimator for the probability of success \(p\).</p>

        </div>

      </div>
    </div>

    <!-- mt-5: margin top -->
    <div class="container mt-5">
      <div class="row">
        <div class="col-sm-4">
          <div class="jumbotron">
            <p style='font-size: 16pt;'>Sample size \(N\)</p>        
            <br>        
            <input id="ex601" type="text" data-slider-min="5" data-slider-max="95" data-slider-step="10" data-slider-value="5"/>
          </div>
          <div class="jumbotron">
            <p style='font-size: 16pt;'>Probability of success \(p\)</p>        
            <br>        
            <input id="ex602" type="text" data-slider-min="0.2" data-slider-max="0.8" data-slider-step="0.2" data-slider-value="0.4"/>
          </div>
        </div>
        <div class="col-sm-8">

          <div class="jumbotron">

            <div class="tab" style="text-align: center;">
              <button class="tabLinkL1Cl" onclick="openSpecificTab('tabContentL1N1Id', 'tabLinkL1N1Id', 'white')" id="tabLinkL1N1Id">Plot No 1</button>
              <button class="tabLinkL1Cl" onclick="openSpecificTab('tabContentL1N2Id', 'tabLinkL1N2Id', 'white')" id="tabLinkL1N2Id">Plot No 2</button>
              <button class="tabLinkL1Cl" onclick="openSpecificTab('tabContentL1N3Id', 'tabLinkL1N3Id', 'white')" id="tabLinkL1N3Id">Plot No 3</button>
            </div>

            <br>
            <hr>

            <!-- .................................................. -->
            <div id="tabContentL1N1Id" class="tabContentL1Cl">
              <p style="font-size: 16pt">Barplot Sample Draw</p>              
              <p style='font-size: 14pt;'>(Based on one sample draw of size \(N\) on the DGP)</p>              
              <p style='font-size: 12pt;'>The plot below illustrates the simulation exercise</p>                          
              <img src="plot_01_N5_p2.svg" alt="" id="imageL1N1Id" style="text-align: center; max-width: 100%;">

              <!--..........................................................................-->
              <!-- see: https://www.w3schools.com/html/html5_audio.asp -->
              <div style="text-align: center;">
                <audio controls>
                  <source src="interpretation_audio_01.mp3" type="audio/mpeg">
                  Your browser does not support the audio element.
                </audio>
              </div>

            </div>

            <!-- .................................................. -->
            <div id="tabContentL1N2Id" class="tabContentL1Cl">
              <p style='font-size: 16pt;'>Histogram of the sample average \(\overline{Y}\)</p>
              <p style='font-size: 14pt;'>(Based on \(1000\) sample draw of size \(N\) on the DGP)</p>              
              <p style='font-size: 12pt;'>The plot below illustrates the Law of Large Numbers (LLN)</p>
              <img src="plot_02_N5_p2.svg" alt="" id="imageL1N2Id" style="text-align: center;">
              <br><br>
              <p>As the sample size \(N\) grows the sample average \(\overline{Y}\) gets closer to \(\mu\), i.e.,</p>
              $$
              \begin{align}
              \overline{Y} \overset{p}{\to} \mu.
              \end{align}
              $$
              <p>Note, in our case \(\mu\) is the probability of success \(p\).</p>

              <!--..........................................................................-->
              <!-- see: https://www.w3schools.com/html/html5_audio.asp -->
              <div style="text-align: center;">
                <audio controls>
                  <source src="interpretation_audio_02.mp3" type="audio/mpeg">
                  Your browser does not support the audio element.
                </audio>
              </div>

            </div>

            <!-- .................................................. -->
            <div id="tabContentL1N3Id" class="tabContentL1Cl">
              <p style='font-size: 16pt;'>Histogram of the standardized sample average \(z_{\overline{Y}}\)</p>
              <p style='font-size: 14pt;'>(Based on \(1000\) sample draw of size \(N\) on the DGP)</p>              
              <p style='font-size: 12pt;'>The plot below illustrates the Central Limit Theorem (CLT)</p>
              <img src="plot_03_N5_p2.svg" alt="" id="imageL1N3Id">
              <br><br>
              <p>As the sample size \(N\) grows the distribution of the standardized sample average,</p>
              $$
              \begin{align}
              z_{\overline{Y}} &= \frac{\overline{Y} - \mu}{\sigma_{\overline{Y}}}, \\
              z_{\overline{Y}} &= \frac{\overline{Y} - \mu}{\frac{\sigma}{\sqrt{N}}},
              \end{align}
              $$
              <p>gets closer and closer to the standard normal distribution \(N\left(0, 1\right)\).</p>
              <p>Note, in our case \(\mu\) is the probability of success \(p\).</p>
              
            </div>

          </div>

        </div>
      </div>
    </div>

    <!--..........................................................................-->
    <div class="iliasExcCl">
      <hr />
      <p style="text-align: center; font-size: 20pt; font-weight: bold;">
        <a href="https://ilias.uni-hohenheim.de/data/UHOH/lm_data/lm_1781360/index_ilias_html_xx.html">Back to <em>Startpage</em></a>
      </p>
      <hr />
    </div>

    <script type="text/javascript" id="MathJax-script" async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.0.0/bootstrap-slider.min.js"></script>
    <script>

      //..............................
      // handling of collapsibles
      // see: https://www.w3schools.com/howto/howto_js_collapsible.asp
      var coll = document.getElementsByClassName("collButtonCl");
      var i;
    
      for (i = 0; i < coll.length; i++) {
        coll[i].addEventListener("click", function() {
          this.classList.toggle("active");
          var content = this.nextElementSibling;
          if (content.style.display === "block") {
            content.style.display = "none";
          } else {
            content.style.display = "block";
          }
        });
      }

      //..............................
      // handling of tabs      
      // see: https://www.w3schools.com/howto/howto_js_tabs.asp

      // open specific tab
      function openSpecificTab(tabContentId, tabLinkId, color) {

        // hide all elements with class="tabcontent_l1" by default */
        var i, tabcontent, tablinks;

        tabcontent = document.getElementsByClassName("tabContentL1Cl");
        for (i = 0; i < tabcontent.length; i++) {
          tabcontent[i].style.display = "none";
        }

        // remove the background color of all tablinks/buttons
        tablinks = document.getElementsByClassName("tabLinkL1Cl");
        for (i = 0; i < tablinks.length; i++) {
          tablinks[i].style.backgroundColor = "";
        }

        // show the specific tab content
        document.getElementById(tabContentId).style.display = "block";

        // add the specific color to the button used to open the tab content
        document.getElementById(tabLinkId).style.backgroundColor = color;

      }

      //..............................
      // handling of slider                
      // see: https://seiyria.com/bootstrap-slider/
           
      var slider01 = new Slider("#ex601", { tooltip: 'always' });
      var slider02 = new Slider("#ex602", { tooltip: 'always' });

      slider01.on("slide", function() {
        var sliderValue01 = slider01.getValue();
        var sliderValue02 = slider02.getValue()*10;
        document.getElementById("imageL1N1Id").setAttribute("src", "plot_01_N" + sliderValue01 + "_p" + sliderValue02 + ".svg");
        document.getElementById("imageL1N2Id").setAttribute("src", "plot_02_N" + sliderValue01 + "_p" + sliderValue02 + ".svg");
        document.getElementById("imageL1N3Id").setAttribute("src", "plot_03_N" + sliderValue01 + "_p" + sliderValue02 + ".svg");
      })

      slider02.on("slide", function() {
        var sliderValue01 = slider01.getValue();
        var sliderValue02 = slider02.getValue()*10;
        document.getElementById("imageL1N1Id").setAttribute("src", "plot_01_N" + sliderValue01 + "_p" + sliderValue02 + ".svg");
        document.getElementById("imageL1N2Id").setAttribute("src", "plot_02_N" + sliderValue01 + "_p" + sliderValue02 + ".svg");
        document.getElementById("imageL1N3Id").setAttribute("src", "plot_03_N" + sliderValue01 + "_p" + sliderValue02 + ".svg");
      })

      // set start page
      document.getElementById("tabLinkL1N1Id").click();

    </script>
  </body>
</html>